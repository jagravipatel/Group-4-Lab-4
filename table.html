<html>
    <head>
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>
    <body onload="refresh_table()">
    
    <script>

        var data =[
            { image: "https://miro.medium.com/max/1400/1*mk1-6aYaf_Bes1E3Imhc0A.jpeg", fname: "Keval", lname: "Motivaras", job: "Software Engineer", salary:"1000" },
            { image: "https://image.flaticon.com/icons/svg/1507/1507155.svg", fname: "Jagravi", lname: "Patel", job: "Data Analysit", salary:"2000"  },
            { image: "https://www.flaticon.com/premium-icon/icons/svg/2541/2541502.svg", fname: "Harpreet", lname: "Udehyan", job: "Business Analyst", salary:"1500"  },
            { image: "https://www.flaticon.com/premium-icon/icons/svg/2632/2632839.svg", fname: "Eduardo", lname: "Reis", job: "Instructor", salary:"3000"  }
        ];
        
        function create_row(i,f,l,j,s,index){
            var row = ""
            row += "<tr class='w1' id='" + index + "'>\n"
            row += "<td onclick='remove_person(" + index + ")'><button style='font-size: 25px; color: darkred''>Delete</button></td>\n"
            row += "<td>" + "<img src='" + i + "' height=100px width=100px>" + "</td>\n"
            row += "<td>" + f + "</td>\n"
            row += "<td>" + l + "</td>\n"
            row += "<td>" + j + "</td>\n"
            row += "<td>" + s + "</td>\n"
            row += "</tr>"
            return row
        } 

        function refresh_table(){
            var code_snippet =""
            for(var index in data)
                code_snippet += create_row(data[index].image,data[index].fname,data[index].lname,data[index].job,data[index].salary, index)

            var table = document.querySelector('#my_table')
            table.innerHTML = code_snippet
        }

        function remove_person(index){
            data.splice(index, 1)
            refresh_table()
        }

        function onEnterUp(event){
            if(event.code !== 'Enter') return;
            var im= document.getElementById("img")
            var fn = document.getElementById("c1")
            var ln = document.getElementById("c2")
            var jobs = document.getElementById("c3")
            var sal = document.getElementById("c4")
            var element={};
            element.image=im.value;
            element.fname=fn.value;
            element.lname=ln.value;
            element.job=jobs.value;
            element.salary=sal.value;

            data.push(element);
            im.value = ""
            fn.value = ""
            ln.value = ""
            jobs.value = ""
            sal.value = ""
            refresh_table()
        }

    </script>
    <h1><a href="index.html"><i>Go to Main Menu</i></a></h1>
    <table>
        <caption>Dynamic Table</caption>
        <thead>
            <th></th>
            <th>Photo</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Job</th>
            <th>Salary</th>
        </thead>
        <tbody id='my_table'></tbody>
        <tfoot>
            <tr onkeyup="onEnterUp(event)">
                <td></td>
                <td><input name="img" id="img" type="text"></td>
                <td><input name="c1" id="c1" type="text"></td>
                <td><input name="c2" id="c2" type="text"></td>
                <td><input name="c3" id="c3" type="text"></td>
                <td><input name="c4" id="c4" type="text"></td>
           </tr>
        </tfoot>
    </table>

    </body>
</html>